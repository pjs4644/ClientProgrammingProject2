<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>340 p2 ex</title>
<script src="https://code.jquery.com/jquery-latest.js" type="text/javascript">
</script>
<script type="text/javascript">
	//api:  http://ist-solace.main.ad.rit.edu/api/
$(document).ready(function(){


    let d1 = myXhr({path:'/minors/'});

    let d2 = myXhr({path:'/course/courseID=ISTE-230'});


    $.when(d1, d2).done(function(minorData, courseData) {
        console.log(minorData);
			  console.log(minorData[0]);

			  console.log(courseData);
        console.log(courseData[0]);

       /* var minorID = document.getElementById("MinorID");
        var minorName = document.getElementById("MinorName");
        var minorDescription = document.getElementById("MinorDescription");
        var minorCourses = document.getElementById("MinorCourses");

        var content = document.getElementById("content");
        content.append(courseData[0].courseID);
        content.append(document.createElement("br"));
        content.append(document.createElement("br"));
        content.append(courseData[0].title);
        content.append(document.createElement("br"));
        content.append(document.createElement("br"));
        content.append(courseData[0].description);


        content.append(document.createElement("br"));
        content.append(document.createElement("br"));
        content.append(document.createElement("br"));
        content.append(document.createElement("br"));
        content.append(document.createElement("br"));

        for (let i = 0; i < minorData[0].UgMinors.length; i++){
            console.log(minorData[0].UgMinors[i].name);

            minorID.append("Minor ID:")
            minorID.append(document.createElement("br"));
            minorID.append(minorData[0].UgMinors[i].name);
            minorID.append(document.createElement("br"));
            minorID.append(document.createElement("br"));

            minorName.append("Minor Name:")
            minorName.append(document.createElement("br"));
            minorName.append(minorData[0].UgMinors[i].title);
            minorName.append(document.createElement("br"));
            minorName.append(document.createElement("br"));

            minorDescription.append("Description");
            minorDescription.append(document.createElement("br"));
            minorDescription.append(minorData[0].UgMinors[i].description);
            minorDescription.append(document.createElement("br"));
            minorDescription.append(document.createElement("br"));

            minorCourses.append("Courses:");
            minorCourses.append(document.createElement("br"));
            for (let j = 0; j < minorData[0].UgMinors[i].courses.length; j++) {
                minorCourses.append(minorData[0].UgMinors[i].courses[j]);
                minorCourses.append(document.createElement("br"));
            }

            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));

            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
            content.append(document.createElement("br"));
    }*/

      }).fail (function(jqXHR) {
        // Consider using the jQueryUI "Dialog" widget to display errors
         
          
        $('#content').append(jqXHR.responseText);
    });
	
	function myXhr(pathName){
		return $.ajax({
			type:'get',
			url:'http://solace.ist.rit.edu/~plgics/proxy.php',
			dataType:'json',
			data:pathName,
			cache:false,
			async:true,
		});
	}
});
</script>
</head>
<body>
  <h2>IST Dept Site</h2>
	<section id="content" style="height:300px; font-size: large;">
        <p id="MinorID"></p>
        <p id="MinorName"></p>
        <p id="MinorDescription"></p>
        <p id="MinorCourses"></p>
    </section>
</body>
</html>