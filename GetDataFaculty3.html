<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>jQuery Ajax</title>
<script src="https://code.jquery.com/jquery-3.6.0.js">
</script>
<script>
$(document).ready(function(){

	function getData(pathName){
        return $.ajax({
        type: 'get',
        url:'http://solace.ist.rit.edu/~plgics/proxy.php',
        dataType:'json',
        data: pathName,
        cache:false,
        async:true
        })
    }

    getData({path:'/people/faculty/'}).done(function(data){
      
        
        // Here we are creating a <ul> element that will be referenced by
        // by our first “$.each(…)” loop 
        let ul = document.createElement('ul');
        ul.id = "facultyUL";
        $('#content').append(ul);


        // This is our “$.each(…)” loop that consumes the 34, element
        // array of JSON objects returned from the "faculty/people" api endpoint
        // "data.faculty" gives us access to the actual array - see the "console.log"
        // in the GetDataFaculty.html" file
        $.each(data.faculty,function(i, item){

            $("#facultyUL").append(  "<li> Name: " + item.name + "</li>");

        })

    }).fail (function(jqXHR) {
        // Consider using the jQueryUI "Dialog" widget to display errors
        $('#content').append(jqXHR.responseText);
    });
})
</script>
</head>
<body>
  <h2>IST Dept Site</h2>
	<div id="content"></div>
</body>
</html>